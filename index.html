<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vocarchive</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

/* ---------------- BASE ---------------- */

:root {
  --bg: #0e0f11;
  --card: #17191d;
  --soft: #1f2228;
  --text: #ffffff;
  --muted: #9aa0a6;
  --accent: #4cff7a;
  --radius: 16px;
}

* {
  box-sizing: border-box;
  font-family: system-ui, -apple-system, Segoe UI, sans-serif;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
}

/* ---------------- GRID ---------------- */

.container {
  max-width: 1400px;
  margin: auto;
  padding: 24px;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 18px;
}

/* ---------------- CARD ---------------- */

.voice-card {
  position: relative;
  background: var(--card);
  border-radius: var(--radius);
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 14px;
  transition: transform .15s ease, box-shadow .15s ease;
}

.voice-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 24px rgba(0,0,0,.4);
}

/* ---------------- IMAGE ---------------- */

.avatar {
  width: 72px;
  height: 72px;
  border-radius: 14px;
  object-fit: cover;
  cursor: pointer;
}

/* ---------------- INFO ---------------- */

.info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.name {
  font-weight: 600;
  font-size: 1rem;
}

.vendor {
  font-size: .8rem;
  color: var(--muted);
}

/* ---------------- TAGS ---------------- */

.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 4px;
}

.tag {
  font-size: .65rem;
  padding: 3px 8px;
  border-radius: 20px;
  background: var(--soft);
  color: var(--muted);
  white-space: nowrap;
}

/* ---------------- PLAY BUTTON ---------------- */

.play-btn {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: none;
  background: #22252b;
  color: white;
  cursor: pointer;
  display: grid;
  place-items: center;
  position: relative;
}

.play-btn:hover {
  background: #2b2f36;
}

/* progress ring */

.play-btn svg {
  position: absolute;
  width: 42px;
  height: 42px;
  transform: rotate(-90deg);
}

circle {
  fill: none;
  stroke: var(--accent);
  stroke-width: 3;
  stroke-dasharray: 126;
  stroke-dashoffset: 126;
  transition: stroke-dashoffset .2s linear;
}

/* ---------------- NEW BADGE ---------------- */

.ribbon {
  position: absolute;
  top: 10px;
  left: -28px;
  background: var(--accent);
  color: black;
  font-size: .65rem;
  font-weight: bold;
  padding: 4px 40px;
  transform: rotate(-45deg);
}

/* ---------------- MOBILE ---------------- */

@media (max-width: 500px) {
  .voice-card {
    flex-direction: column;
    text-align: center;
  }

  .avatar {
    width: 90px;
    height: 90px;
  }
}

</style>
</head>

<body>

<div class="container">
  <div id="grid" class="card-grid"></div>
</div>

<script>

/* ---------------- SAMPLE DATA ---------------- */
/* Reemplaza esto luego con tu CSV/JSON */

const voicebanks = [

{
  name: "Otomachi UNA",
  vendor: "INTERNET Co., Ltd.",
  image: "https://i.imgur.com/jvWZJ1x.png",
  demo: "demo1.mp3",
  officialPage: "https://www.ssw.co.jp/products/vocaloid/otomachi/",
  publishDate: "2025-12-20",
  tags: ["Female", "Japanese", "VOCALOID6", "Commercial"]
},

{
  name: "Felicia",
  vendor: "Dreamtonics",
  image: "https://i.imgur.com/M0f8Zbl.png",
  demo: "demo2.mp3",
  officialPage: "https://dreamtonics.com/",
  publishDate: "2024-02-01",
  tags: ["Female", "English", "SynthV", "Commercial"]
}

];

/* ---------------- RENDER ---------------- */

const grid = document.getElementById("grid");

voicebanks.forEach(vb => {

  const card = document.createElement("div");
  card.className = "voice-card";

  /* NEW badge */

  const publish = new Date(vb.publishDate);
  const diffDays = (new Date() - publish) / 86400000;

  if (diffDays <= 30) {
    const ribbon = document.createElement("div");
    ribbon.className = "ribbon";
    ribbon.innerText = "NEW";
    card.appendChild(ribbon);
  }

  /* IMAGE */

  const img = document.createElement("img");
  img.className = "avatar";
  img.src = vb.image;
  img.onclick = () => window.open(vb.officialPage, "_blank");

  /* INFO */

  const info = document.createElement("div");
  info.className = "info";

  const name = document.createElement("div");
  name.className = "name";
  name.innerText = vb.name;

  const vendor = document.createElement("div");
  vendor.className = "vendor";
  vendor.innerText = vb.vendor;

  const tags = document.createElement("div");
  tags.className = "tags";

  vb.tags.forEach(t => {
    const tag = document.createElement("div");
    tag.className = "tag";
    tag.innerText = t;
    tags.appendChild(tag);
  });

  info.appendChild(name);
  info.appendChild(vendor);
  info.appendChild(tags);

  /* PLAY BUTTON */

  const btn = document.createElement("button");
  btn.className = "play-btn";
  btn.innerHTML = "▶";

  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");

  circle.setAttribute("cx","21");
  circle.setAttribute("cy","21");
  circle.setAttribute("r","20");

  svg.appendChild(circle);
  btn.appendChild(svg);

  const audio = new Audio(vb.demo);

  btn.onclick = () => {

    if (audio.paused) {
      audio.play();
      btn.innerHTML = "⏸";
      btn.appendChild(svg);
    } else {
      audio.pause();
      btn.innerHTML = "▶";
      btn.appendChild(svg);
    }
  };

  audio.ontimeupdate = () => {
    const progress = audio.currentTime / audio.duration;
    const offset = 126 - (126 * progress);
    circle.style.strokeDashoffset = offset;
  };

  audio.onended = () => {
    btn.innerHTML = "▶";
    btn.appendChild(svg);
    circle.style.strokeDashoffset = 126;
  };

  /* ASSEMBLE */

  card.appendChild(img);
  card.appendChild(info);
  card.appendChild(btn);

  grid.appendChild(card);

});

</script>

</body>
</html>
